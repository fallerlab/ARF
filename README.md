## ARF
R package for the <u>**A**</u>nalysis of <u>**R**</u>ibosomal RNA <u>**F**</u>ragments, generally generated by Ribosome Profiling (Ribo-Seq) experiments

Currently includes:

* **dripARF**, ribosome heterogeneity identification pipeline with <u>**d**</u>ifferential <u>**r**</u>ibosomal protein <u>**i**</u>ncorporation <u>**p**</u>redictions

## Installation
In R (>= 2.10) environment

	install.packages("devtools")
    devtools::install_github("fallerlab/ARF")


## How to use the ARF package and the different methods within?
To be able to use the ARF package, you first need to align your <u>adapter-trimmed Ribo-seq reads</u> **to given rRNA sequences** which are provided under the "rRNAs/" folder for two organisms, human and mouse.

Currently, ARF platform only contains the dripARF method. Please stay tuned for future additions :)

### dripARF
Based on Ribo-seq's rRNA reads and the 3D structure of the ribosome, dripARF predicts which ribosomal proteins' incorporation to the ribosome change between two given conditions. With such prediction, it identifies the prime candidates that are responsible for the inter-sample heterogeneity of ribosomes across conditions.

The main input for the dripARF pipeline is a <u>tab-seperated samples file</u>; which contains the sample id as first column, file path to the rRNA read alignment file as second column, and a group/condition identifier as the third column (see test_data/samples.tsv as an example).

Prior to using dripARF, assuming rRNA read alignments are ready, we also suggest to perform your positional rRNA abundance quantifications using the "bedtools" software. Note that this is not mandatory since you can also use your indexed .bam files as input, however, it will significantly increase the computational speed of dripARF. Following is the example on how you can create your .bedGraph files.

    bedtools genomecov -bg -ibam /your/bam/file.bam >  /your/bedGraph/file.bedGraph

If your alignment files, whether .bam or .bedGraph, are ready and accessible through the paths given within samples.tsv file, and your target folder is accessible, you can run the dripARf wraper in one line in your R environment. 

    dripARF_results <- ARF::dripARF(samplesFile = "samples.tsv", organism="mm", QCplot=TRUE, targetDir="dripARF_results/")

This function will run the whole pipeline and will return a data frame with the ribosome heterogeneity prediction results for all possible comparisons. Within this function, there exists a few other options as well. For example, you can specify which comparisons you want to focus on, or which samples to exclude from the analysis. This function will also create a comparison-specific .csv files to store your results, a few informative QC plots and most importantly a scatterplot and heatmap visualization of your results.

Please note that you have to specify your organism when running this pipeline and you have to align your reads strictly to given rRNA sequences. 

#### dripARF() function in detail

To be completed.

### TESTING ARF

If you have installed ARF successfully, you can test it with the data provided in the test_data/ folder.

### Required R libraries
Please make sure that you have the following packages installed as dripARF requires them:

* bedr
* DESeq2 (>= 1.30.1)
* clusterProfiler
* ComplexHeatmap
* enrichplot
* fgsea
* grid
* ggplot2
* ggrepel
* matrixStats
* reshape2
* scales
* SummarizedExperiment


## Copyright

Copyright 2021 by the contributors (see AUTHORS and README files)

ARF is released under the GNU General Public License.

GNU GENERAL PUBLIC LICENSE

This is a free software: you can redistribute it and/or modify it under the
terms of the GNU General Public License, either version 3 of the License, or
(at your option) any later version. You should have received a copy of the GNU General Public License
along with ARF, see file LICENSE. If not, see <http://www.gnu.org/licenses/>.

This software is distributed in the hope that it will be useful, but WITHOUT
ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.

## Citations

If you actively use the ARF platform, please cite the following publications:

[Ferhat Alkan, Oscar Wilkins, Santiago Hernandez-Perez, Sofia Ramalho, Joana Silva, Jernej Ule,  William J Faller; Identifying ribosome heterogeneity using ribosome profiling data, submitted.](https://www.biorxiv.org/)

## Contact

For questions, queries, bug reports; please use the **<u>github issues tab</u>** or contact: <fallerlab@gmail.com> and/or <feralkan@gmail.com>.

